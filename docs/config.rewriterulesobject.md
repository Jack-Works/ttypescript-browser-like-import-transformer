<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [config](./config.md) &gt; [RewriteRulesObject](./config.rewriterulesobject.md)

## RewriteRulesObject type

Rewrite the module by complex rules.

**Signature:**

```typescript
export type RewriteRulesObject = false | RewriteRulesSimple | RewriteRulesUMD | RewriteRulesURL
```
**References:** [RewriteRulesSimple](./config.rewriterulessimple.md)<!-- -->, [RewriteRulesUMD](./config.rewriterulesumd.md)<!-- -->, [RewriteRulesURL](./config.rewriterulesurl.md)

## Remarks

- `false`<!-- -->: disable the transform

- [RewriteRulesURL](./config.rewriterulesurl.md)<!-- -->: Rewrite to another URL

- [RewriteRulesUMD](./config.rewriterulesumd.md)<!-- -->: Rewrite to a UMD variable access.

- `Record<string, `[RewriteRulesObject](./config.rewriterulesobject.md)`>`<!-- -->: string can be a string or a RegExp to match import path. If you're using the package "type", you should write it as "/^type$/"

- Enum [RewriteRulesSimple](./config.rewriterulessimple.md)<!-- -->:

- - `"umd"`<!-- -->: make your `import a from 'b'` to `const a = globalThis.b`

- - `"unpkg"`<!-- -->: try to transform imports path to "https://unpkg.com/package<!-- -->@<!-- -->version/index.js?module"

- - `"skypack"`<!-- -->: try to transform import path to "https://cdn.skypack.dev/package<!-- -->@<!-- -->version"

- - `"jspm"`<!-- -->: try to transform import path to "https://jspm.dev/package<!-- -->@<!-- -->version"

## Example

Example for `Record<string, `[RewriteRulesObject](./config.rewriterulesobject.md)`>`

```jsonc
{
   "my-pkg": "umd", // to globalThis.myPkg
   "my-pkg2": "skypack", // to https://cdn.skypack.dev/my-pkg2
   "my-pkg3": "unpkg", // to https://unpkg.com/my-pkg3
   "my-pkg4": "jspm", // to https://jspm.dev/my-pkg4
   "/my-pkg-(.+)/": {
       type: 'umd',
       target: 'getMyPkg("$1")'
   }, // for "my-pkg-12" to globalThis.getMyPkg("12")
}
```
Source code:

Filename: `rules-default.ts`

```ts
console.log('Should run after all imports', a, b, c2, d, e, c2, ts, ts2)
// Node style import
import a from 'a'
import b, { c as c2, d } from 'b'
import * as e from 'c/subpath'
import 'd'

const c = 1
const x = 1
export { x }
// Node style export
export { c, d } from 'b'
export * as e from 'c'

import * as ts from 'typescript'
import * as ts2 from 'typescript/lib/typescriptServices'
```
Outputs:

Filename: `rules-false.js`

```js
// CompilerOptions: {"module":"ESNext"}
// PluginConfig: {"rules":false}
console.log('Should run after all imports', a, b, c2, d, e, c2, ts, ts2);
// Node style import
import a from 'a';
import b, { c as c2, d } from 'b';
import * as e from 'c/subpath';
import 'd';
const c = 1;
const x = 1;
export { x };
// Node style export
export { c, d } from 'b';
export * as e from 'c';
import * as ts from 'typescript';
import * as ts2 from 'typescript/lib/typescriptServices';
```
Filename: `rules-umd.js`

```js
// CompilerOptions: {"module":"ESNext"}
// PluginConfig: {"rules":"umd"}
const a = _import_1(globalThis["a"], ["default"], "a", "globalThis.a", false).default;
const b = _import_1(globalThis["b"], ["default"], "b", "globalThis.b", false).default;
const { c: c2, d } = _import_1(globalThis["b"], ["c", "d"], "b", "globalThis.b", false);
const e = _import_1(globalThis["c.subpath"], [], "c/subpath", "globalThis.c.subpath", false);
const { c: _a, d: _b } = _import_1(globalThis["b"], ["c", "d"], "b", "globalThis.b", false);
export { _a as c, _b as d };
const _c = _import_1(globalThis["c"], [], "c", "globalThis.c", false);
export { _c as e };
const ts = _import_1(globalThis["typescript"], [], "typescript", "globalThis.typescript", false);
const ts2 = _import_1(globalThis["typescript.lib.typescriptServices"], [], "typescript/lib/typescriptServices", "globalThis.typescript.lib.typescriptServices", false);
console.log('Should run after all imports', a, b, c2, d, e, c2, ts, ts2);
"import \"d\" is eliminated because it expected to have no side effects in UMD transform.";
const c = 1;
const x = 1;
export { x };
import { _import as _import_1 } from "https://cdn.jsdelivr.net/npm/@magic-works/ttypescript-browser-like-import-transformer@4.0.0/es/runtime.min.js";
```
Filename: `rules-skypack.js`

```js
// CompilerOptions: {"module":"ESNext"}
// PluginConfig: {"rules":"skypack"}
console.log('Should run after all imports', a, b, c2, d, e, c2, ts, ts2);
// Node style import
import a from "https://cdn.skypack.dev/a";
import b, { c as c2, d } from "https://cdn.skypack.dev/b";
import * as e from "https://cdn.skypack.dev/c/subpath";
import "https://cdn.skypack.dev/d";
const c = 1;
const x = 1;
export { x };
// Node style export
export { c, d } from "https://cdn.skypack.dev/b";
export * as e from "https://cdn.skypack.dev/c";
import * as ts from "https://cdn.skypack.dev/typescript@5.0.4";
import * as ts2 from "https://cdn.skypack.dev/typescript@5.0.4/lib/typescriptServices";
```
Filename: `rules-unpkg.js`

```js
// CompilerOptions: {"module":"ESNext"}
// PluginConfig: {"rules":"unpkg"}
console.log('Should run after all imports', a, b, c2, d, e, c2, ts, ts2);
// Node style import
import a from "https://unpkg.com/a?module";
import b, { c as c2, d } from "https://unpkg.com/b?module";
import * as e from "https://unpkg.com/c/subpath?module";
import "https://unpkg.com/d?module";
const c = 1;
const x = 1;
export { x };
// Node style export
export { c, d } from "https://unpkg.com/b?module";
export * as e from "https://unpkg.com/c?module";
import * as ts from "https://unpkg.com/typescript@5.0.4?module";
import * as ts2 from "https://unpkg.com/typescript@5.0.4/lib/typescriptServices?module";
```
Filename: `rules-url.js`

```js
// CompilerOptions: {"module":"ESNext"}
// PluginConfig: {"rules":{"type":"url","withVersion":"std:$packageName$@$version$","noVersion":"std:$packageName$"}}
console.log('Should run after all imports', a, b, c2, d, e, c2, ts, ts2);
// Node style import
import a from "std:a";
import b, { c as c2, d } from "std:b";
import * as e from "std:c";
import "std:d";
const c = 1;
const x = 1;
export { x };
// Node style export
export { c, d } from "std:b";
export * as e from "std:c";
import * as ts from "std:typescript@5.0.4";
import * as ts2 from "std:typescript@5.0.4";
```
Complex example:

Filename: `rules-complex.ts`

```ts
/// { rules: { "/@material-ui\\/(.+)/": {type: "umd", target: "MaterialUI.$1"}, "lodash": "umd", "jquery": "skypack", "lodash-es": "unpkg", "/.+/": "unpkg" } }

import x from '@material-ui/core'
import i from '@material-ui/icons'
import y from 'lodash'
import z from 'lodash-es'
import w from 'other'
console.log(x, y, z, w, i)
```
Output:

Filename: `rules-complex.js`

```js
// CompilerOptions: {"module":"ESNext"}
// PluginConfig: {"rules":{"/@material-ui\\/(.+)/":{"type":"umd","target":"MaterialUI.$1"},"lodash":"umd","jquery":"skypack","lodash-es":"unpkg","/.+/":"unpkg"}}
const x = _import_1(globalThis["MaterialUI.core"], ["default"], "@material-ui/core", "globalThis.MaterialUI.core", false).default;
const i = _import_1(globalThis["MaterialUI.icons"], ["default"], "@material-ui/icons", "globalThis.MaterialUI.icons", false).default;
const y = _import_1(globalThis["lodash"], ["default"], "lodash", "globalThis.lodash", false).default;
import z from "https://unpkg.com/lodash-es?module";
import w from "https://unpkg.com/other?module";
console.log(x, y, z, w, i);
import { _import as _import_1 } from "https://cdn.jsdelivr.net/npm/@magic-works/ttypescript-browser-like-import-transformer@4.0.0/es/runtime.min.js";
```

